---
# If true, the FSM transitions are managed by an external tool
Managed: false
# If true and the FSM is self-managed, transitions should be triggered
StepByStep: true
# Change idle behaviour, if true the state is kept until transition,
# otherwise the FSM holds the last state until transition
IdleKeepState: false
# Where to look for state libraries
StatesLibraries:
- "@MC_STATES_DEFAULT_RUNTIME_INSTALL_PREFIX@"
- "@MC_STATES_RUNTIME_INSTALL_PREFIX@"
# Where to look for state files
StatesFiles:
- "@MC_STATES_DEFAULT_RUNTIME_INSTALL_PREFIX@/data"
- "@MC_STATES_RUNTIME_INSTALL_PREFIX@/data"
# If true, state factory will be more verbose
VerboseStateFactory: false

# Initial position of HRP4
init_pos: 
  translation: [-0.20, -0.3, 0.75] #offset x: 0.17  -0.60 y: -0.38
  rotation: [0.0, 0.0, 1.6]


# Additional robots to load
robots:
  chair:
    module: env/chair
    init_pos:
      translation: [-0.47, 0.22, -0.04] #0.0
  human:
    module: human
    init_pos:
      translation: [-0.35, 0.22, 0.6] #0.12
  ground:
    module: env/ground
    # init_pos:
    #   translation: [0, 0, 0.05]

# General constraints, always on
constraints:
- type: contact
- type:  dynamics 
  robot: hrp4
  damper: [0.1, 0.01, 0.5]
- type:  dynamics 
  robot: human  
  infTorque: true
  damper: [0.1, 0.01, 0.5]


# Collision constraint
collisions:
- type: collision
  useMinimal: true
# - type: collision
#   r1: human
#   r2: human
  useMinimal: true
# - type: collision
#   r1: hrp4
#   r2: human
#   collisions:
#     - body1: r_wrist
#       body2: TorsoLink
#       iDist: 0.03
#       sDist: 0.001
#       damping: 0
#     - body1: l_wrist
#       body2: TorsoLink
#       iDist: 0.03
#       sDist: 0.001
#       damping: 0
#     - body1: r_wrist
#       body2: RArmLink
#       iDist: 0.03
#       sDist: 0.001
#       damping: 0
# - type: collision
#   r1: hrp4
#   r2: chair
#   collisions:
#     - body1: L_KNEE_P_LINK
#       body2: leg_fl
#       iDist: 0.05
#       sDist: 0.01
#       damping: 0
#     - body1: R_KNEE_P_LINK
#       body2: leg_fr
#       iDist: 0.05
#       sDist: 0.01
#       damping: 0
#     - body1: L_KNEE_P_LINK
#       body2: leg_rl
#       iDist: 0.05
#       sDist: 0.01
#       damping: 0
#     - body1: R_KNEE_P_LINK
#       body2: leg_rr
#       iDist: 0.05
#       sDist: 0.01
#       damping: 0
    # - body1: L_F23_LINK
    #   body2: right_handle
    #   iDist: 0.05
    #   sDist: 0.01
    #   damping: 0
    # - body1: L_F33_LINK
    #   body2: right_handle
    #   iDist: 0.05
    #   sDist: 0.01
    #   damping: 0
    # - body1: L_F43_LINK
    #   body2: right_handle
    #   iDist: 0.05
    #   sDist: 0.01
    #   damping: 0
    # - body1: L_F53_LINK
    #   body2: right_handle
    #   iDist: 0.05
    #   sDist: 0.01
    #   damping: 0
# - type: collision
#   r1: human
#   r2: chair
#   collisions:
#     - body1: TorsoLink
#       body2: back_support
#       iDist: 0.05
#       sDist: 0.01
#       damping: 0
#     - body1: HipsLink
#       body2: chair
#       iDist: 0.005
#       sDist: 0.001
#       damping: 0


# Initial set of contacts
contacts:
- r1: hrp4
  r2: ground
  r1Surface: LeftFoot
  r2Surface: AllGround
- r1: hrp4
  r2: ground
  r1Surface: RightFoot
  r2Surface: AllGround
- r1: human
  r2: ground
  r1Surface: LeftSole
  r2Surface: AllGround
  dof: [1.0, 1.0, 1.0, 0.0, 0.0, 1.0]
- r1: human
  r2: ground
  r1Surface: RightSole
  r2Surface: AllGround
  dof: [1.0, 1.0, 1.0, 0.0, 0.0, 1.0]
# - r1: human
#   r2: chair
#   r1Surface: RCheek
#   r2Surface: Top
# - r1: human
#   r2: chair
#   r1Surface: LCheek
#   r2Surface: Top

# Some options for a specific robot
hrp4:
  posture:
    stiffness: 1
    weight: 10

human:
  posture:
    stiffness: 1
    weight: 10

# human:
#   posture:
#     stiffness: 10
#     weight: 100
#     target:
#       LArm_0: [-1.3]
#       LElbow: [0.2]
#       LForearm: [-0.9]
#       RArm_0: [1.3]
#       RElbow: [0.2]
#       RForearm: [0.9]
#       LLeg_1: [-1.57]
#       LShin_0: [1.768]
#       LAnkle_0: [-0.22]
#       RLeg_1: [-1.57]
#       RShin_0: [1.768]
#       RAnkle_0: [-0.22]
#       LHand: [0.3]
#       RHand: [0.3]

# Force limit on contacts (if not here, considered support contact and max force is m*g)
# todo : differenciate human and robot
surfacesMaxForces:
  LeftFoot: 500
  RightFoot: 500
  LeftHandFlat: 15
  RightHandFlat: 15
  RLegBack: 500
  LLegBack: 500
  LeftSole: 500
  RightSole: 500
  RightShoulder: 15
  Back: 15
  LCheek: 500
  RCheek: 500

# FSM states
states:
  Wait:
    base: Pause
    duration: 10.0

  TakePosition:
    base: MetaTasks
    tasks:
      RHandTrajectory:
        type: bspline_trajectory
        robot: hrp4
        frame: RightHandFlat
        weight: 500.0
        stiffness: 100.0
        duration: 3.0
        targetFrame:
          robot: human
          frame: Chest #RightShoulder
          translation: [0.0, 0.0, 0.05]
          controlPoints:
            - [0, 0.2, 0.35]
      LHandTrajectory:
        type: bspline_trajectory
        robot: hrp4
        frame: LeftHandFlat
        weight: 500.0
        stiffness: 100.0
        duration: 3.0
        targetFrame:
          robot: human
          frame: Back
          translation: [0.0, 0.0, 0.05]
          controlPoints:
            - [0, -0.2, 0.1]
    # AddContactsAfter:
    #   - r1: hrp4
    #     r2: human
    #     r1Surface: RightHandFlat
    #     r2Surface: Chest #RightShoulder
    #     dof: [1.0, 1.0, 1.0, 1.0, 1.0, 0.0] # last one is z axis
    #   - r1: hrp4
    #     r2: human
    #     r1Surface: LeftHandFlat
    #     r2Surface: Back 
    #     dof: [1.0, 1.0, 1.0, 1.0, 1.0, 0.0]
      
  KeepPosition:
    base: RobotHolding
    weight: 1000
    stiffness: 10
    AdmittanceRHand: 
      admittance: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
      stiffness: [100, 100, 100, 100, 100, 100]
      damping: [6.3, 6.3, 6.3, 6.3, 6.3, 6.3]
      maxVel: [0.2, 0.2, 0.5]
      wrench: [0.0, 0.0, 0.0, 0.0, 0.0, 20.0]
    AdmittanceLHand:
      admittance: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
      stiffness: [100, 100, 100, 100, 100, 100]
      damping: [6.3, 6.3, 6.3, 6.3, 6.3, 6.3]
      maxVel: [0.2, 0.2, 0.5]
      wrench: [0.0, 0.0, 0.0, 0.0, 0.0, 20.0]
    

  HoldingBothHands:
    base: RobotHolding
    weight: 1000
    stiffness: 10
    AdmittanceRHand: 
      admittance: [0.0, 0.0, 0.0, 0.0, 0.0, 0.002]
      stiffness: [100, 100, 100, 100, 100, 10]
      damping: [6.3, 6.3, 6.3, 6.3, 6.3, 300]
      maxVel: [0.2, 0.2, 0.5]
      wrench: [0.0, 0.0, 0.0, 0.0, 0.0, 20.0]
    AdmittanceLHand:
      admittance: [0.0, 0.0, 0.0, 0.0, 0.0, 0.002]
      stiffness: [100, 100, 100, 100, 100, 10]
      damping: [6.3, 6.3, 6.3, 6.3, 6.3, 300]
      maxVel: [0.2, 0.2, 0.5]
      wrench: [0.0, 0.0, 0.0, 0.0, 0.0, 20.0]


  # HumanGoFront:
  #   base: MetaTasks
  #   tasks:
  #     HumanTransform:
  #       type: transform
  #       robot: human
  #       frame: Back
  #       stiffness: 5
  #       weight: 2000
  #       completion:
  #         AND:
  #           - eval: 0.15
  #           - speed: 0.01
  #       targetPosition: [0.2, 0.0, 0.95]
  #       targetRotation: [0.0, -0.785381, 0.0]
  #     LeftFootTransform:
  #       type: transform
  #       robot: human
  #       frame: LeftSole
  #       weight: 2000
  #       stiffness: 5
  #       completion:
  #         AND:
  #           - eval: 0.08
  #           - speed: 0.01
  #       targetPosition: [0.32, 0.11, 0.0]
  #       targetRotation: [0.0, 0.0, 0.0]
  #     RightFootTransform:
  #       type: transform
  #       robot: human
  #       frame: RightSole
  #       weight: 2000
  #       stiffness: 5
  #       completion:
  #         AND:
  #           - eval: 0.08
  #           - speed: 0.01
  #       targetPosition: [0.32, -0.11, 0.0]
  #       targetRotation: [0.0, 0.0, 0.0]
  #   AddContactsAfter:
  #     - r1: human
  #       r2: ground
  #       r1Surface: LeftSole
  #       r2Surface: AllGround
  #     - r1: human
  #       r2: ground
  #       r1Surface: RightSole
  #       r2Surface: AllGround
  #     - r1: hrp4
  #       r2: human
  #       r1Surface: RightHandFlat
  #       r2Surface: RightShoulder
  #       dof: [1.0, 1.0, 1.0, 1.0, 1.0, 0.0]
  #     - r1: hrp4
  #       r2: human
  #       r1Surface: LeftHandFlat
  #       r2Surface: Back 
  #       dof: [1.0, 1.0, 1.0, 1.0, 1.0, 0.0]
  #   RemoveContactsAfter:
  #     - r1: human
  #       r2: chair
  #       r1Surface: RCheek
  #       r2Surface: Top
  #     - r1: human
  #       r2: chair
  #       r1Surface: LCheek
  #       r2Surface: Top  
      


  # HumanGoFrontBalance:
  #   base: MetaTasks
  #   tasks:
  #     HumanPosture:
  #       type: posture
  #       robot: human
  #       completion:
  #         eval: 0.03
  #       # stiffness: 2
  #       weight: 2500
  #       target:
  #         LAnkle_0: [-0.23]
  #         RAnkle_0: [-0.23]
  #         LArm_2: [-0.45]
  #         RArm_2: [0.45]
              

  # HumanGoUp:
  #   base: MetaTasks
  #   tasks:
  #     Humanstand:
  #       type: posture
  #       robot: human
  #       completion:
  #         eval: 0.01
  #       stiffness: 3
  #       weight: 1000
  #       target:
  #         Torso_1: [0.15]
  #         LLeg_1: [-0.0]
  #         LShin_0: [0.1]
  #         LAnkle_0: [-0.1]
  #         RLeg_1: [-0.0]
  #         RShin_0: [0.1]
  #         RAnkle_0: [-0.1]
  #         LArm_2: [-0.0]
  #         RArm_2: [0.0]
  #         LForearm: [0.0]
  #         RForearm: [0.0]
  #   RemoveContactsAfter:
  #     - r1: hrp4
  #       r2: human
  #       r1Surface: LeftHandFlat
  #       r2Surface: Back
  #     - r1: hrp4
  #       r2: human
  #       r1Surface: RightHandFlat
  #       r2Surface: RightShoulder


  GoBackInitHrp4:
    base: MetaTasks
    RemoveContacts:
      - r1: hrp4
        r2: human
        r1Surface: LeftHandFlat
        r2Surface: Back
      - r1: hrp4
        r2: human
        r1Surface: RightHandFlat
        r2Surface: Chest
    # make bsplines to get away from human
    tasks:
      RHandTrajectory:
        type: bspline_trajectory
        robot: hrp4
        frame: RightHandFlat
        weight: 500.0
        stiffness: 100.0
        duration: 2.0
        targetFrame:
          robot: human
          frame: Chest
          translation: [-0.15, 0.3, 0.3]
          controlPoints:
            - [0.2, 0, 0.3]
      LHandTrajectory:
        type: bspline_trajectory
        robot: hrp4
        frame: LeftHandFlat
        weight: 500.0
        stiffness: 100.0
        duration: 2.0
        targetFrame:
          robot: human
          frame: Back
          translation: [-0.15, -0.3, 0.3]
          controlPoints:
            - [0.2, 0, 0.3]

  HRP4pos:
    base: MetaTasks
    tasks:
      HRP4HalfSit:
        type: posture
        robot: hrp4
        completion:
          eval: 0.01
        stiffness: 3
        weight: 1000
        target:
          L_HIP_Y: [0.0]
          L_HIP_R: [0.0]
          R_KNEE_P: [0.719]
          L_KNEE_P: [0.719]
          R_ELBOW_P: [-0.524]
          L_ELBOW_P: [-0.524]
          R_HIP_Y: [0.0]
          R_HIP_R: [-0.02]
          R_HIP_P: [-0.384]
          R_KNEE_P: [0.719]
          R_ANKLE_P: [-0.335]
          R_ANKLE_R: [0.02]
          L_HIP_Y: [0.0]
          L_HIP_R: [0.02]
          L_HIP_P: [-0.384]
          L_KNEE_P: [0.719]
          L_ANKLE_P: [-0.335]
          L_ANKLE_R: [-0.02]
          CHEST_P: [0.14]
          CHEST_Y: [0.0]
          NECK_Y: [0.0]
          NECK_P: [0.0]
          R_SHOULDER_P: [-0.052]
          R_SHOULDER_R: [-0.175]
          R_SHOULDER_Y: [0.0]
          R_ELBOW_P: [-0.524]
          R_WRIST_Y: [0.0]
          R_WRIST_P: [0.0]
          R_WRIST_R: [0.0]
          L_SHOULDER_P: [-0.052]
          L_SHOULDER_R: [-0.175]
          L_SHOULDER_Y: [0.0]
          L_ELBOW_P: [-0.524]
          L_WRIST_Y: [0.0]
          L_WRIST_P: [0.0]
          L_WRIST_R: [0.0]

  # HumanPos:
  #   base: MetaTasks
  #   tasks:
  #     Humanstand:
  #       type: posture
  #       robot: human
  #       completion:
  #         eval: 0.01
  #       stiffness: 3
  #       weight: 1000
  #       target:
  #         Torso_1: [0.15]
  #         LLeg_1: [-0.0]
  #         LShin_0: [0.1]
  #         LAnkle_0: [-0.1]
  #         RLeg_1: [-0.0]
  #         RShin_0: [0.1]
  #         RAnkle_0: [-0.1]
  #         LArm_2: [-0.0]
  #         RArm_2: [0.0]
  #         LForearm: [0.0]
  #         RForearm: [0.0]

  # backstraight:
  #   base: MetaTasks
  #   tasks:
  #     back:
  #       type: posture
  #       robot: human
  #       stiffness: 5
  #       weight: 10000
  #       target:
  #         Torso_1: [0.15]
  
  HumanCoMHigh:
    base: HumanCoM
    weight: 50000
    dimWeight: [1, 1, 0]

  HumanCoMHighUp:
    base: HumanCoM
    weight: 50000
    z_objective: 0.75

  HumanCoMHighStand:
    base: HumanCoM
    weight: 50000
    z_objective: 1.1

  XsensHumanPose:
    base: XsensHuman
    robot: human
    stiffness: 1000

  Pause_inf:
    base: Meta
    transitions: 
      - [Pause_2s, OK, Pause_2s, Auto]
    
  XsensHumanPause:
    base: Parallel
    states: [XsensHumanPose, Pause_inf]
       

  # front:
  #   base: Parallel
  #   states: [HumanCoM, HumanGoFront, Holding]

  # balance:
  #   base: Parallel
  #   states: [HumanCoMHighUp, HumanGoFrontBalance, Holding]

  # up:
  #   base: Parallel
  #   states: [HumanCoMHighStand, HumanGoUp, Holding]


  final:
    base: Parallel
    states: [HumanCoMHighStand, HRP4pos, HumanPos]




  TakePosition+hum:
    base: Parallel
    states: [TakePosition, XsensHumanPose]

  holdingUp:
    base: Parallel
    states: [Holding, XsensHumanPose, Pause_inf]

  GoBackInitHrp4+hum:
    base: Parallel
    states: [GoBackInitHrp4, XsensHumanPose]

  HRP4pos+hum:
    base: Parallel
    states: [HRP4pos, XsensHumanPose, Pause_inf]

  HelpFSM:
    base: Meta
    transitions:
    - [Pause_2s, OK, TakePosition, Strict]
    # - [TakePosition, OK, HoldingBothHands, Strict]
    - [TakePosition, OK, KeepPosition, Strict]
    # - [HoldingBothHands, OK, GoBackInitHrp4, Strict]
    - [KeepPosition, OK, GoBackInitHrp4, Strict]
    - [GoBackInitHrp4, OK, HRP4pos, Strict]

  HelpDemo:
    base: Parallel
    states: [XsensHumanPose,  HelpFSM] #AddCollisionWithHuman,

# Transitions map for fully simulated controller
# transitions:  
# - [Pause, OK, TakePosition, Strict]
# - [TakePosition, OK, front, Auto]
# - [front, OK, balance, Auto]
# - [balance, OK, up, Auto]
# - [up, OK, reinit, Auto]
# - [reinit, OK, final, Strict]

# Transitions map for human tracking
transitions:  
- [XsensHumanPause, OK, HelpDemo, Strict]


# - [Pause, OK, XsensHumanPause, Strict]
# - [XsensHumanPause, OK, TakePosition+hum, Strict]
# - [TakePosition+hum, OK, holdingUp, Strict]
# - [holdingUp, OK, GoBackInitHrp4+hum, Strict]
# - [GoBackInitHrp4+hum, OK, HRP4pos+hum, Strict]

# - [TakePosition, OK, HumanGoFront, Strict]
# - [HumanGoFront, OK, HumanGoFrontBalance, Strict]
# - [HumanGoFrontBalance, OK, HumanGoUp, Strict]
# - [HumanGoUp, OK, FinalState, Strict]

# - [TakePosition, OK, GoingFront, Strict]
# - [GoingFront, OK, GoingFrontBalance, Strict]
# - [GoingFront, OK, GoingUp, Strict]

# Initial state
init: XsensHumanPause


ObserverPipelines:
- name: HRP4Pipeline                    # - Create a new pipeline
  gui: true                              #   diplay the pipeline in the GUI (default = false)
  log: true                              #   log observers (default)
  observers:                             #   declare which observers to use
  - type: Encoder                        # - Use an EncoderObserver
    config:    
      robot: hrp4
      updateRobot: hrp4                    
      position: encoderValues            #    - Sets joint position from encoder sensor values (default)
      velocity: encoderFiniteDifferences #    - Computes joint velocities by finite differences  (default)
      computeFV: true                    # We now have the estimation of each joint position and velocity and the corresponding body positions and velocities, but we are still missing the floating base
  - type: Attitude
    config: 
      bodySensor: Accelerometer 
  - type: KinematicInertial              # - Estimates the floating base state using the KinematicInertial observer
    update: true                         #   update the real robot instance from its results
    gui: true                            #   Displays the estimated velocity as an arrow (default)
    config:
      robot: hrp4
      updateRobot: hrp4
      bodySensor: Accelerometer          # This observer only uses roll and pitch rotation information from this sensor along with a kinematic anchor point and the robot kinematics between the anchor frame and the floating base frame. The anchor frame is expected to be provided through a datastore callback (see below for details)
# - name: HumanPipeline
#   gui: true
#   log: true
#   observers:
#   - type: Encoder                        # - Use an EncoderObserver
#     config: 
#       robot: human
#       updateRobot: human                             
#       position: encoderValues            #    - Sets joint position from encoder sensor values (default)
#       velocity: encoderFiniteDifferences #    - Computes joint velocities by finite differences  (default)
#       computeFV: true 
#   - type: BodySensor                     # - Use a BodySensor observer
#     update: true                        #   Do not update the real robot state
#     gui: true                           #   Do not display in the gui
#     config: 
#       robot: human                             
#       bodySensor: FloatingBase           #   In simulation, the interface will fill this sensor with ground truth values
                                         #   The observer computes the position and velocity of the floating base
                                         #   by transforming the sensor measurements to the floating base frame
  # - type: Attitude
  #   config: 
  #     robot: human
  #     bodySensor: Accelerometer 
  # - type: KinematicInertial              # - Estimates the floating base state using the KinematicInertial observer
  #   update: true                         #   update the real robot instance from its results
  #   gui: true                            #   Displays the estimated velocity as an arrow (default)
  #   config:
  #     robot: human
  #     updateRobot: human
  #     bodySensor: Accelerometer 


Plugins: [XsensPlugin]

# configuration for XsensHuman state
Xsens:
  human:
    HipsLink:
      segment: "Pelvis"
    TorsoLink:
      segment: "T8" # Sternum
      offset:
        translation: [0, 0, 0.02]
        rotation: [0, 0, 0]
    HeadLink:
      segment: "Head"
      offset:
        translation: [0, 0, 0.02]
        rotation: [0, 0, 0]
    torso2rshoulder_1: #might be 2 instead of 1
      segment: "Right Upper Arm"
      offset:
        translation: [0, -0.01, 0.02]
        rotation: [0, 0, 0]
    RForearmLink:
      segment: "Right Forearm"
      offset:
        translation: [0, -0.02, 0.01]
        rotation: [0, 0, 0]
    RHandLink:
      segment: "Right Hand"
      offset:
        translation: [0, 0, 0.01]
        rotation: [0, 0, 0]
    torso2lshoulder_1:
      segment: "Left Upper Arm"
      offset:
        translation: [0, 0.01, 0.02]
        rotation: [0, 0, 0]
    LForearmLink:
      segment: "Left Forearm"
      offset:
        translation: [0, 0.02, 0.01]
        rotation: [0, 0, 0]
    LHandLink:
      segment: "Left Hand"
      offset:
        translation: [0, 0, 0.01]
        rotation: [0, 0, 0]
    RLegLink:
      segment: "Right Upper Leg"
      offset:
        translation: [0, 0, -0.05]
        rotation: [0, 0, 0]
    RShinLink:
      segment: "Right Lower Leg"
      offset:
        translation: [0, 0, 0]
        rotation: [0, 0, 0]
    RAnkleLink:
      segment: "Right Foot"
      offset:
        translation: [0, 0, 0]
        rotation: [0, 0, 0]
    LLegLink:
      segment: "Left Upper Leg"
      offset:
        translation: [0, 0, -0.05]
        rotation: [0, 0, 0]
    LShinLink:
      segment: "Left Lower Leg"
      offset:
        translation: [0, 0, 0]
        rotation: [0, 0, 0]
    LAnkleLink:
      segment: "Left Foot"
      offset:
        translation: [0, 0, 0]
        rotation: [0, 0, 0]
    


#   hrp4:
#     body:
#       segment: "Pelvis"
#     torso:
#       segment: "T8" # Sternum
#     NECK_P_LINK:
#       segment: "Head"
#     R_SHOULDER_R_LINK:
#       segment: "Right Shoulder"
#     R_SHOULDER_Y_LINK:
#       segment: "Right Upper Arm"
#       offset:
#         translation: [0,0,0]
#         rotation: [-1.57, 0, 0]
#     R_ELBOW_P_LINK:
#       segment: "Right Forearm"
#       offset:
#         translation: [0,0,0]
#         rotation: [-1.57, 0, 0]
#     r_wrist:
#       segment: "Right Hand"
#       offset:
#         translation: [0,0,0]
#         rotation: [-1.57, 0, 0]
#     L_SHOULDER_R_LINK:
#       segment: "Left Shoulder"
#       offset:
#         translation: [0,0,0]
#         rotation: [1.57, 0, 0]
#     L_SHOULDER_Y_LINK:
#       segment: "Left Upper Arm"
#       offset:
#         translation: [0,0,0]
#         rotation: [1.57, 0, 0]
#     L_ELBOW_P_LINK:
#       segment: "Left Forearm"
#       offset:
#         translation: [0,0,0]
#         rotation: [1.57, 0, 0]
#     l_wrist:
#       segment: "Left Hand"
#       offset:
#         translation: [0,0,0]
#         rotation: [1.57, 0, 0]
#     R_HIP_P_LINK:
#       segment: "Right Upper Leg"
#     R_KNEE_P_LINK:
#       segment: "Right Lower Leg"
#     r_ankle:
#       segment: "Right Foot"
#     L_HIP_P_LINK:
#       segment: "Left Upper Leg"
#     L_KNEE_P_LINK:
#       segment: "Left Lower Leg"
#     l_ankle:
#       segment: "Left Foot"
  